```
class Solution {
public:
    bool validNumber(string s) {
        if(s.size() == 0) return false;

        //跳过首尾空格
        int left = 0, right = s.length() - 1;
        while(left <= right && s[left] == ' '){
            left++;
        }
        if(left > right) return false;
        while(left < right && s[right] == ' '){
            right--;
        }

        bool isNum = false;
        bool isDot = false;
        bool isEe = false;
        bool isSign = false;

        for(int i = left; i <= right; i++){
            if(s[i] >= '0' && s[i] <= '9'){
                isNum = true;
            }
            // 一个'.'；e/E后面跟一个整数（不能有'.'）
            else if(s[i] == '.' && !isDot && !isEe){
                isDot = true;
            }
            // 一个'E'或'e'；前面需要出现过数字
            else if((s[i] == 'E' || s[i] == 'e') && isNum && !isEe){
                isEe = true;
                //// 避免e结尾的情况 e后面得跟一个整数
                isNum = false;
            }
            // '+''-'只能出现在开头或者'E'或'e'的后一位
            else if((s[i] == '+' || s[i] == '-') && (i == left || s[i - 1] == 'E' || s[i - 1] == 'e')){
                isSign = true;
            }
            else{
                return false;
            }
        }
        // 必须以数字结尾
        return isNum;
    }
};
```