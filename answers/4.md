```
class Solution {
public:
    string reverseMessage(string message) {
        string res;
        int n = message.size();
        int i = n-1,j = n-1;
        while(i>=0&&message[i]==' '){   //找出末尾第一个不是空格的索引
            i--;
            j--;
        }
        if(i<0) return res;     //当第一个不为空格索引小于0时,说明全为空格
        while(i>=0){
            while(i>=0&&message[i]!=' '){       //找出第一个为空格的索引或者第一个字符,作为单词开头
                i--;
            }
            res += message.substr(i + 1, j - i);    //载入单词
            res += ' ';     //添加空格
            while(i>=0&&message[i]==' '){       //找到单词末尾
                i--;
            }
            j=i;
        }
        if (!res.empty()) {     //去除最后一个多余空格
            res.pop_back();
        }
        return res;
    }
};
```